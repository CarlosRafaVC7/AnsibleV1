---
# =============================================================================
# ROL DE HARDENING - ENDURECIMIENTO DE SISTEMAS
# =============================================================================

- name: "üõ°Ô∏è HARDENING - ENDURECIMIENTO DE SEGURIDAD"
  debug:
    msg:
      - "=================================================="
      - "üõ°Ô∏è INICIANDO HARDENING DE SEGURIDAD"
      - "=================================================="
      - "Host: {{ inventory_hostname }}"
      - "Sistema: {{ ansible_os_family }}"
      - "Nivel de hardening: ENTERPRISE"
      - "=================================================="

# =============================================================================
# HARDENING DE LINUX
# =============================================================================
- name: "üêß HARDENING ESPEC√çFICO PARA LINUX"
  include_tasks: hardening_linux.yml
  when: ansible_os_family == "Debian" or ansible_os_family == "RedHat"

# =============================================================================
# HARDENING DE WINDOWS
# =============================================================================
- name: "ü™ü HARDENING ESPEC√çFICO PARA WINDOWS"
  include_tasks: hardening_windows.yml
  when: ansible_os_family == "Windows"

# =============================================================================
# VALIDACI√ìN FINAL
# =============================================================================
- name: "‚úÖ HARDENING COMPLETADO"
  debug:
    msg:
      - "=================================================="
      - "‚úÖ HARDENING DE SEGURIDAD COMPLETADO"
      - "=================================================="
      - "Host: {{ inventory_hostname }}"
      - "Configuraciones aplicadas:"
      - "  ‚úÖ Configuraciones de kernel seguras"
      - "  ‚úÖ Servicios innecesarios deshabilitados"
      - "  ‚úÖ Permisos de archivos endurecidos"
      - "  ‚úÖ Configuraciones de red seguras"
      - "=================================================="